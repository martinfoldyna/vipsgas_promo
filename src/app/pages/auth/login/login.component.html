<div class="spinner_section">

  <h1 id="title" class="title">Login</h1>

  <form #form="ngForm">
    <div class="form-control-group">
      <label for="email" class="label">Email</label>
      <input nbInput
             type="email"
             fullWidth
             [(ngModel)]="user.email"
             #email="ngModel"
             ngModel
             placeholder="Uživatelské jméno"
             name="email"
             id="email"
             pattern=".+@.+\..+"
             [status]="email.dirty ? (email.invalid ? 'danger' : 'success') : ''">
      <ng-container *ngIf="email.invalid && email.touched">
        <p class="caption status-danger" *ngIf="email.errors?.required">
          Email je vyžadován!
        </p>
        <p class="caption status-danger" *ngIf="email.errors?.pattern">
          Zadejte skutečnou emailovou adresu!
        </p>
      </ng-container>
    </div>
    <div class="form-control-group">
      <label for="password" class="label">Heslo</label>
      <input nbInput
             type="password"
             [(ngModel)]="user.password"
             #password="ngModel"
             ngModel
             fullWidth
             required
             placeholder="Heslo"
             name="password"
             id="password"
             [status]="password.dirty ? (password.invalid ? 'danger' : 'success') : ''">
      <ng-container *ngIf="password.invalid && password.touched ">
        <p class="caption status-danger" *ngIf="password.errors?.required">
          Email je vyžadováno!
        </p>
      </ng-container>
    </div>
    <div class="form-control-group">
      <button nbButton
              fullWidth
              [nbSpinner]="logginngIn"
              nbSpinnerMessage="Přihlašuji uživatele.."
              nbSpinnerStatus="primary"
              (click)="userLogin(form); submitteded = true"
              [disabled]="submitteded || !form.valid"
              [class.btn-pulse]="">Přihlásit se</button>
    </div>
  </form>

  <section class="links" aria-label="Social sign in">
    nebo se přihlašte pomocí:
    <div class="socials">
      <a (click)="googleLogin()">
        <nb-icon icon="google"></nb-icon>
      </a>
    </div>
  </section>

</div>
