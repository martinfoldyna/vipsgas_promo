(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Hm8K:function(l,n,e){"use strict";e.r(n),e.d(n,"GalleryModuleNgFactory",(function(){return wl}));var u=e("8Y7J");class t{}var c=e("pMnS"),a=e("jXVt"),i=e("tKwJ"),s=e("s7LF"),r=e("QKcJ"),g=e("kzz5"),o=e("cUpR"),d=e("SVse"),b=e("GKMp"),m=e("cH9j"),h=e("zbnG"),p=e("Wcq6"),f=e("Xr7G"),y=e("gJ2e");let v=(()=>{class l{constructor(l,n){this.firestore=l,this.fireStorage=n,this.selectedSection={name:""}}addSection(l){return new Promise((n,e)=>{this.loadSectionById(l.sectionId).then(u=>{console.log("uploading"),u&&u.length>0?e("Tato sekce u\u017e existuje"):this.fireStorage.upload("gallery/"+l.thumbnail.name,l.thumbnail.blob).then(u=>{"success"===u.state?this.firestore.collection("gallery").add({name:l.name,thumbnail:{name:l.thumbnail.name},sectionId:l.sectionId,section:!0,description:l.description,createdAt:l.createdAt,createdBy:l.createdBy}).then(l=>{n(l)}).catch(l=>{e(l)}):e("Nastala chyba b\u011bhem nahr\xe1v\xe1n\xed obr\xe1zku")}).catch(l=>{e(l)})})})}loadSections(){return new Promise((l,n)=>{this.firestore.collection("gallery").snapshotChanges().subscribe(e=>{e||n("Nastala chyba b\u011bhem na\u010d\xedt\xe1n\xed sekc\xed obr\xe1zk\u016f.");let u=e.filter(l=>l.payload.doc.data().section).map(l=>{const n=l.payload.doc.data();return Object.assign({id:l.payload.doc.id},n)});l(u)},l=>{n(l)})})}uploadImagesToSection(l,n){return new Promise((e,u)=>{this.fireStorage.upload("gallery/"+n.name,n.blob).then(u=>{console.log(u),u&&u.ref.getDownloadURL().then(u=>{this.firestore.collection("gallery").doc(l.id).update({images:p.firestore.FieldValue.arrayUnion({name:n.name,url:u})}).then(l=>{e(l)})})}).catch(l=>{u(l)})})}loadSectionById(l){return new Promise((n,e)=>{this.loadSections().then(e=>{this.selectedSection=e.filter(n=>n.sectionId===l)[0],n(this.selectedSection)}).catch(l=>{e(l)})})}deleteImageNameFromCollection(l,n,e,u){return this.firestore.collection(l).doc(n).update({images:u.filter(l=>l.name!==e)})}updateSection(l,n){return this.firestore.collection(l).doc(n.id).set(n)}}return l.\u0275prov=u.uc({factory:function(){return new l(u.vc(f.a),u.vc(y.a))},token:l,providedIn:"root"}),l})();var w=e("q3Uq"),R=e("/aY3");class z{constructor(l,n,e,u,t,c){this.authService=l,this.galleryService=n,this.imagesService=e,this.generalService=u,this.router=t,this.toastr=c,this.uploadingSection=!1,this.galleryForm=new s.h({name:new s.f("",s.w.required),description:new s.f("",s.w.required),thumbnail:new s.f("",s.w.required)}),this.allSections=new Array,this.section={name:""}}ngOnInit(){this.loadSections()}onFileChange(l){this.setupFileReader(l.target.files[0]).then(l=>{this.section.thumbnail=l}).catch(l=>{console.log(l)})}setupFileReader(l){return new Promise((n,e)=>{let u=new FileReader;u.onload=l=>{let u=this.generalService.generateRandomString();this.imagesService.compressFile(l.target.result,u,50).then(l=>{l&&n({name:"thumb_"+u,blob:l.blob})}).catch(l=>{e(l)})},u.readAsDataURL(l)})}addSection(){this.section?(this.section.createdAt=Date.now(),this.section.createdBy=this.authService.getUser(),console.log(this.section),this.galleryService.addSection(this.section).then(l=>{this.toastr.success("","Nov\xe1 sekce byla \xfasp\u011b\u0161n\u011b vytvo\u0159ena."),this.loadSections(),this.galleryForm.reset()}).catch(l=>{this.toastr.danger(l?JSON.stringify(l):"B\u011bhem nahr\xe1v\xe1n\xed sekce do\u0161lo k chyb\u011b.","Chyba")})):console.log("section is not defined")}generateSectionId(){let l=this.section.name.replace(/\s+/g,"-").toLowerCase();return l=l.normalize("NFD").replace(/[\u0300-\u036f]/g,""),this.section.sectionId=l,this.section.sectionId}loadSections(){this.galleryService.loadSections().then(l=>{console.log(l),this.allSections=l;for(let n of this.allSections)console.log(n),this.imagesService.getImage("gallery",n.thumbnail.name).then(l=>{n.thumbnail.image=l})}).catch(l=>{console.log(l)})}openDetail(l){this.router.navigateByUrl("/pages/gallery/detail/"+l.sectionId)}}var S=e("iInd"),I=u.Pb({encapsulation:0,styles:[["nb-card-body.section-image{padding:0!important}"]],data:{}});function k(l){return u.tc(0,[(l()(),u.Rb(0,16777216,null,null,52,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"nb-spinner-container",null]],null,null,a.O,a.v)),u.Qb(1,49152,null,0,i.nb,[],null,null),u.Qb(2,81920,null,0,i.wd,[u.hb,u.m,u.R,u.r],{nbSpinner:[0,"nbSpinner"]},null),(l()(),u.Rb(3,0,null,0,2,"nb-card-header",[],null,null,null,a.Q,a.x)),u.Qb(4,49152,null,0,i.qb,[],null,null),(l()(),u.qc(-1,0,["P\u0159id\xe1n\xed nov\xe9 sekce"])),(l()(),u.Rb(6,0,null,1,46,"nb-card-body",[],null,null,null,a.N,a.u)),u.Qb(7,49152,null,0,i.mb,[],null,null),(l()(),u.Rb(8,0,null,0,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.gc(l,10).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.gc(l,10).onReset()&&t),t}),null,null)),u.Qb(9,16384,null,0,s.A,[],null,null),u.Qb(10,540672,[["form",4]],0,s.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.lc(2048,null,s.c,null,[s.i]),u.Qb(12,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),u.Rb(13,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.Rb(14,0,null,null,1,"label",[["class","label"],["for","title"]],null,null,null,null,null)),(l()(),u.qc(-1,null,["N\xe1zev sekce"])),(l()(),u.Rb(16,0,null,null,6,"input",[["fullWidth",""],["id","title"],["name","title"],["nbInput",""],["placeholder","Zadejte n\xe1zev sekce"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,c=l.component;return"input"===n&&(t=!1!==u.gc(l,17)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.gc(l,17).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.gc(l,17)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.gc(l,17)._compositionEnd(e.target.value)&&t),"ngModelChange"===n&&(t=!1!==(c.section.name=e)&&t),t}),null,null)),u.Qb(17,16384,null,0,s.d,[u.R,u.r,[2,s.b]],null,null),u.lc(1024,null,s.n,(function(l){return[l]}),[s.d]),u.Qb(19,540672,null,0,s.g,[[8,null],[8,null],[6,s.n],[2,s.z]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),u.lc(2048,null,s.o,null,[s.g]),u.Qb(21,16384,null,0,s.p,[[4,s.o]],null,null),u.Qb(22,16384,null,0,i.hc,[],{fullWidth:[0,"fullWidth"]},null),(l()(),u.Rb(23,0,null,null,4,"div",[["class","form-group"],["hidden",""]],null,null,null,null,null)),(l()(),u.Rb(24,0,null,null,1,"label",[["class","label"],["for","secitonId"]],null,null,null,null,null)),(l()(),u.qc(-1,null,["Id sekce"])),(l()(),u.Rb(26,0,null,null,1,"input",[["disabled",""],["fullWidth",""],["id","secitonId"],["name","sectionId"],["nbInput",""],["placeholder","Zadejte nejd\u0159\xedve n\xe1zev sekce"],["type","text"]],[[8,"value",0],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],null,null,null,null)),u.Qb(27,16384,null,0,i.hc,[],{fullWidth:[0,"fullWidth"]},null),(l()(),u.Rb(28,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.Rb(29,0,null,null,1,"label",[["class","label"],["for","sectionDescription"]],null,null,null,null,null)),(l()(),u.qc(-1,null,["Popis"])),(l()(),u.Rb(31,0,null,null,5,"tinymce",[["id","sectionDescription"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.section.description=e)&&u),u}),r.b,r.a)),u.Qb(32,4898816,null,0,g.b,[g.c,g.d,u.j],null,null),u.lc(1024,null,s.n,(function(l){return[l]}),[g.b]),u.Qb(34,540672,null,0,s.g,[[8,null],[8,null],[6,s.n],[2,s.z]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),u.lc(2048,null,s.o,null,[s.g]),u.Qb(36,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.Rb(37,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.Rb(38,0,null,null,1,"label",[["class","label"],["for","product-thumbnail"]],null,null,null,null,null)),(l()(),u.qc(-1,null,["Vyberte tituln\xed obr\xe1zek sekce"])),(l()(),u.Rb(40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u.Rb(41,0,null,null,6,"input",[["id","product-thumbnail"],["name","thumbnail"],["nbInput",""],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var t=!0,c=l.component;return"input"===n&&(t=!1!==u.gc(l,42)._handleInput(e.target.value)&&t),"blur"===n&&(t=!1!==u.gc(l,42).onTouched()&&t),"compositionstart"===n&&(t=!1!==u.gc(l,42)._compositionStart()&&t),"compositionend"===n&&(t=!1!==u.gc(l,42)._compositionEnd(e.target.value)&&t),"change"===n&&(t=!1!==c.onFileChange(e)&&t),t}),null,null)),u.Qb(42,16384,null,0,s.d,[u.R,u.r,[2,s.b]],null,null),u.lc(1024,null,s.n,(function(l){return[l]}),[s.d]),u.Qb(44,540672,null,0,s.g,[[8,null],[8,null],[6,s.n],[2,s.z]],{form:[0,"form"]},null),u.lc(2048,null,s.o,null,[s.g]),u.Qb(46,16384,null,0,s.p,[[4,s.o]],null,null),u.Qb(47,16384,null,0,i.hc,[],null,null),(l()(),u.Rb(48,0,null,null,4,"button",[["fullWidth",""],["nbButton",""]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0,c=l.component;return"click"===n&&(t=!1!==u.gc(l,49).onClick(e)&&t),"click"===n&&(t=!1!==c.addSection()&&t),t}),a.M,a.t)),u.Qb(49,4243456,null,0,i.P,[u.R,u.r,u.j],{fullWidth:[0,"fullWidth"],disabled:[1,"disabled"]},null),(l()(),u.Rb(50,0,null,0,1,"nb-icon",[["icon","cloud-upload-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(51,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null),(l()(),u.qc(-1,0,["Nahr\xe1t"])),(l()(),u.Ab(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.uploadingSection),l(n,10,0,e.galleryForm),l(n,19,0,e.galleryForm.controls.name,e.section.name),l(n,22,0,""),l(n,27,0,""),l(n,34,0,e.galleryForm.controls.description,e.section.description),l(n,44,0,e.galleryForm.controls.thumbnail),l(n,49,0,"",!u.gc(n,10).valid),l(n,51,0,"cloud-upload-outline")}),(function(l,n){var e=n.component;l(n,0,1,[u.gc(n,1).tiny,u.gc(n,1).small,u.gc(n,1).medium,u.gc(n,1).large,u.gc(n,1).giant,u.gc(n,1).primary,u.gc(n,1).info,u.gc(n,1).success,u.gc(n,1).warning,u.gc(n,1).danger,u.gc(n,1).hasAccent,u.gc(n,1).primaryAccent,u.gc(n,1).infoAccent,u.gc(n,1).successAccent,u.gc(n,1).warningAccent,u.gc(n,1).dangerAccent,u.gc(n,2).isSpinnerExist]),l(n,8,0,u.gc(n,12).ngClassUntouched,u.gc(n,12).ngClassTouched,u.gc(n,12).ngClassPristine,u.gc(n,12).ngClassDirty,u.gc(n,12).ngClassValid,u.gc(n,12).ngClassInvalid,u.gc(n,12).ngClassPending),l(n,16,1,[u.gc(n,21).ngClassUntouched,u.gc(n,21).ngClassTouched,u.gc(n,21).ngClassPristine,u.gc(n,21).ngClassDirty,u.gc(n,21).ngClassValid,u.gc(n,21).ngClassInvalid,u.gc(n,21).ngClassPending,u.gc(n,22).fullWidth,u.gc(n,22).tiny,u.gc(n,22).small,u.gc(n,22).medium,u.gc(n,22).large,u.gc(n,22).giant,u.gc(n,22).primary,u.gc(n,22).info,u.gc(n,22).success,u.gc(n,22).warning,u.gc(n,22).danger,u.gc(n,22).rectangle,u.gc(n,22).semiRound,u.gc(n,22).round]),l(n,26,1,[e.generateSectionId(),u.gc(n,27).fullWidth,u.gc(n,27).tiny,u.gc(n,27).small,u.gc(n,27).medium,u.gc(n,27).large,u.gc(n,27).giant,u.gc(n,27).primary,u.gc(n,27).info,u.gc(n,27).success,u.gc(n,27).warning,u.gc(n,27).danger,u.gc(n,27).rectangle,u.gc(n,27).semiRound,u.gc(n,27).round]),l(n,31,0,u.gc(n,36).ngClassUntouched,u.gc(n,36).ngClassTouched,u.gc(n,36).ngClassPristine,u.gc(n,36).ngClassDirty,u.gc(n,36).ngClassValid,u.gc(n,36).ngClassInvalid,u.gc(n,36).ngClassPending),l(n,41,1,[u.gc(n,46).ngClassUntouched,u.gc(n,46).ngClassTouched,u.gc(n,46).ngClassPristine,u.gc(n,46).ngClassDirty,u.gc(n,46).ngClassValid,u.gc(n,46).ngClassInvalid,u.gc(n,46).ngClassPending,u.gc(n,47).fullWidth,u.gc(n,47).tiny,u.gc(n,47).small,u.gc(n,47).medium,u.gc(n,47).large,u.gc(n,47).giant,u.gc(n,47).primary,u.gc(n,47).info,u.gc(n,47).success,u.gc(n,47).warning,u.gc(n,47).danger,u.gc(n,47).rectangle,u.gc(n,47).semiRound,u.gc(n,47).round]),l(n,48,1,[u.gc(n,49).filled,u.gc(n,49).outline,u.gc(n,49).ghost,u.gc(n,49).hero,u.gc(n,49).fullWidth,u.gc(n,49).disabled,u.gc(n,49).disabled,u.gc(n,49).tabbable,u.gc(n,49).tiny,u.gc(n,49).small,u.gc(n,49).medium,u.gc(n,49).large,u.gc(n,49).giant,u.gc(n,49).primary,u.gc(n,49).info,u.gc(n,49).success,u.gc(n,49).warning,u.gc(n,49).danger,u.gc(n,49).rectangle,u.gc(n,49).round,u.gc(n,49).semiRound,u.gc(n,49).iconLeft,u.gc(n,49).iconRight,u.gc(n,49).transitions]),l(n,50,0,u.gc(n,51).html,u.gc(n,51).primary,u.gc(n,51).info,u.gc(n,51).success,u.gc(n,51).warning,u.gc(n,51).danger)}))}function Q(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,10,"div",[["class","col-md-6 col-lg-4 col-xl-3"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,9,"nb-card",[["class","scale"],["style","cursor: pointer; overflow: hidden !important;"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openDetail(l.context.$implicit)&&u),u}),a.O,a.v)),u.Qb(2,49152,null,0,i.nb,[],null,null),(l()(),u.Rb(3,0,null,0,2,"nb-card-header",[["class","d-flex justify-content-between"]],null,null,null,a.Q,a.x)),u.Qb(4,49152,null,0,i.qb,[],null,null),(l()(),u.qc(5,0,[" "," "])),(l()(),u.Rb(6,0,null,1,4,"nb-card-body",[["class","section-image"]],null,null,null,a.N,a.u)),u.Qb(7,49152,null,0,i.mb,[],null,null),(l()(),u.Rb(8,0,null,0,2,"div",[["class","thumbnail"],["style","width: 100%; height: 40vh; background-position: center; background-repeat: no-repeat; background-size: cover"]],null,null,null,null,null)),u.Qb(9,278528,null,0,d.q,[u.r,u.E,u.R],{ngStyle:[0,"ngStyle"]},null),u.jc(10,{"background-image":0})],(function(l,n){var e=l(n,10,0,"url("+n.context.$implicit.thumbnail.image+")");l(n,9,0,e)}),(function(l,n){l(n,1,1,[u.gc(n,2).tiny,u.gc(n,2).small,u.gc(n,2).medium,u.gc(n,2).large,u.gc(n,2).giant,u.gc(n,2).primary,u.gc(n,2).info,u.gc(n,2).success,u.gc(n,2).warning,u.gc(n,2).danger,u.gc(n,2).hasAccent,u.gc(n,2).primaryAccent,u.gc(n,2).infoAccent,u.gc(n,2).successAccent,u.gc(n,2).warningAccent,u.gc(n,2).dangerAccent]),l(n,5,0,n.context.$implicit.name)}))}function C(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Ab(16777216,null,null,1,null,Q)),u.Qb(2,278528,null,0,d.m,[u.hb,u.ab,u.D],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.allSections)}),null)}function A(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,2,"div",[["class","col-12 col-lg-8 m-auto"]],null,null,null,null,null)),(l()(),u.Ab(16777216,null,null,1,null,k)),u.Qb(3,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Rb(4,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),u.qc(-1,null,["Fotografie z akc\xed"])),(l()(),u.Ab(16777216,null,null,1,null,C)),u.Qb(7,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Rb(8,0,null,null,1,"ngx-loading-data-warning",[],null,null,null,b.b,b.a)),u.Qb(9,114688,null,0,m.a,[],{data:[0,"data"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.authService.getUser()),l(n,7,0,e.allSections),l(n,9,0,e.allSections)}),null)}function P(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,1,"ngx-gallery",[],null,null,null,A,I)),u.Qb(1,114688,null,0,z,[h.a,v,w.a,R.a,S.l,i.Od],null,null)],(function(l,n){l(n,1,0)}),null)}var x=u.Nb("ngx-gallery",z,P,{},{},[]),O=e("0VvH"),W=e("zpnr"),q=e("VLCt"),M=e("fBds"),F=e("IQMd");class j{constructor(l,n,e,u,t,c,a){this.galleryService=l,this.imagesService=n,this.route=e,this.authService=u,this.router=t,this.dialogService=c,this.toastr=a,this.uploadNewImage=!0,this.uploadingImage=!1,this.preloadingImages=!0,this.showOverlay=!1,this.editSection=!0,this.updateSectionState=!1,this.descriptionChanged=!1,this.newImages=new Array,this.selectedImagesPreview=new Array}ngOnInit(){this.load(),this.preloadTimeout(),this.editSection&&(this.uploadNewImage=!1),this.editSection&&!this.authService.getUser()&&(this.editSection=!1)}load(){this.selectedImagesPreview=new Array,this.uploadingImage&&(this.uploadingImage=!1),this.id=this.route.snapshot.paramMap.get("id"),this.galleryService.loadSectionById(this.id).then(l=>{this.section=l,console.log(this.section),this.imagesService.getImage("gallery",this.section.thumbnail.name).then(l=>{this.section.thumbnail.image=l})}).catch(l=>{l&&this.router.navigateByUrl("/pages/gallery")})}removeImageFromSelection(l){console.log(l),this.selectedImagesPreview.map(n=>n.index!==l),console.log(this.selectedImagesPreview)}preloadTimeout(){setTimeout(()=>{this.preloadingImages=!1},2e3)}onFileChange(l){let n=l.target.files;console.log(n);for(let e=0;e<n.length;e++)this.setupFileReader(e,n[e])}setupFileReader(l,n){let e=new FileReader;e.onload=e=>{this.imagesService.compressFile(e.target.result,n.name,68).then(n=>{this.selectedImagesPreview.push({url:n.src,index:l}),n&&this.newImages.push({name:this.generateRandomString(),blob:n.blob})}).catch(l=>{console.log(l)})},e.readAsDataURL(n)}upload(l){this.uploadingImage=!0,this.uploadImages().then(n=>{this.toastr.success("","Obr\xe1zky byly \xfasp\u011b\u0161n\u011b p\u0159id\xe1ny."),this.selectedImagesPreview=new Array,this.uploadingImage=!1,l.reset(),this.load()}).catch(l=>{this.toastr.danger(l?JSON.stringify(l):"B\u011bhem nahr\xe1v\xe1n\xed obr\xe1zk\u016f do\u0161lo k chyb\u011b.","Chyba")})}generateRandomString(){let l=["A","a","B","b","C","c","D","d","E","e","F","f","G","g","H","h","I","i","J","j","K","k","L","l","M","m","N","n","O","o","P","p","Q","q","R","r","S","s","T","t","U","u","V","v","W","w","X","x","Y","y","Z","z"],n="";for(let e=0;e<=10;e++){let e=Math.round(10*Math.random()+1);n+=l[e],n+=e}return n+Date.now()+".jpg"}uploadImages(){return new Promise((l,n)=>{let e=0;if(this.newImages.length>0)for(let u=0;u<this.newImages.length;u++)this.galleryService.uploadImagesToSection(this.section,this.newImages[u]).then(n=>{console.log(n),e+=1,this.newImages.length-1===e&&l(!0)}).catch(l=>{n(l)})})}deleteImage(l){this.imagesService.deleteImage("gallery",l).then(n=>{this.galleryService.deleteImageNameFromCollection("gallery",this.section.id,l,this.section.images).then(l=>{this.toastr.success("","Obr\xe1zek byl \xfasp\u011b\u0161n\u011b smaz\xe1n."),this.load()},l=>{this.toastr.danger(l?JSON.stringify(l):"B\u011bhem odstra\u0148ov\xe1n\xed obr\xe1zku do\u0161lo k chyb\u011b.","Chyba")})})}openImage(l,n){this.dialogService.open(F.a,{context:{allImages:l,index:n}})}updateSection(){this.galleryService.updateSection("gallery",this.section).then(l=>{this.toastr.success("","Sekce byla upravena."),this.updateSectionState=!1,this.load()}).catch(l=>{this.toastr.danger(l?JSON.stringify(l):"B\u011bhem upravov\xe1n\xed sekce do\u0161lo k chyb\u011b.","Chyba")})}}var N=u.Pb({encapsulation:0,styles:[[".overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.28)}  nb-card.gallery-item{transition:all .5s;overflow:hidden}  nb-card.gallery-item:hover{transform:scale(1.03)}.gallery-item[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function L(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=0!=(t.uploadNewImage=!t.uploadNewImage)&&u),u}),null,null)),(l()(),u.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","info"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.gc(l,2).onClick(e)&&t),t}),a.M,a.t)),u.Qb(2,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),u.Rb(3,0,null,0,1,"nb-icon",[["icon","plus-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(4,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"info",""),l(n,4,0,"plus-outline")}),(function(l,n){l(n,1,1,[u.gc(n,2).filled,u.gc(n,2).outline,u.gc(n,2).ghost,u.gc(n,2).hero,u.gc(n,2).fullWidth,u.gc(n,2).disabled,u.gc(n,2).disabled,u.gc(n,2).tabbable,u.gc(n,2).tiny,u.gc(n,2).small,u.gc(n,2).medium,u.gc(n,2).large,u.gc(n,2).giant,u.gc(n,2).primary,u.gc(n,2).info,u.gc(n,2).success,u.gc(n,2).warning,u.gc(n,2).danger,u.gc(n,2).rectangle,u.gc(n,2).round,u.gc(n,2).semiRound,u.gc(n,2).iconLeft,u.gc(n,2).iconRight,u.gc(n,2).transitions]),l(n,3,0,u.gc(n,4).html,u.gc(n,4).primary,u.gc(n,4).info,u.gc(n,4).success,u.gc(n,4).warning,u.gc(n,4).danger)}))}function T(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","warning"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0,c=l.component;return"click"===n&&(t=!1!==u.gc(l,2).onClick(e)&&t),"click"===n&&(t=0!=(c.updateSectionState=!0)&&t),t}),a.M,a.t)),u.Qb(2,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),u.Rb(3,0,null,0,1,"nb-icon",[["icon","edit-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(4,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"warning",""),l(n,4,0,"edit-outline")}),(function(l,n){l(n,1,1,[u.gc(n,2).filled,u.gc(n,2).outline,u.gc(n,2).ghost,u.gc(n,2).hero,u.gc(n,2).fullWidth,u.gc(n,2).disabled,u.gc(n,2).disabled,u.gc(n,2).tabbable,u.gc(n,2).tiny,u.gc(n,2).small,u.gc(n,2).medium,u.gc(n,2).large,u.gc(n,2).giant,u.gc(n,2).primary,u.gc(n,2).info,u.gc(n,2).success,u.gc(n,2).warning,u.gc(n,2).danger,u.gc(n,2).rectangle,u.gc(n,2).round,u.gc(n,2).semiRound,u.gc(n,2).iconLeft,u.gc(n,2).iconRight,u.gc(n,2).transitions]),l(n,3,0,u.gc(n,4).html,u.gc(n,4).primary,u.gc(n,4).info,u.gc(n,4).success,u.gc(n,4).warning,u.gc(n,4).danger)}))}function U(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.gc(l,2).onClick(e)&&t),t}),a.M,a.t)),u.Qb(2,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),u.Rb(3,0,null,0,1,"nb-icon",[["icon","trash-2-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(4,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"danger",""),l(n,4,0,"trash-2-outline")}),(function(l,n){l(n,1,1,[u.gc(n,2).filled,u.gc(n,2).outline,u.gc(n,2).ghost,u.gc(n,2).hero,u.gc(n,2).fullWidth,u.gc(n,2).disabled,u.gc(n,2).disabled,u.gc(n,2).tabbable,u.gc(n,2).tiny,u.gc(n,2).small,u.gc(n,2).medium,u.gc(n,2).large,u.gc(n,2).giant,u.gc(n,2).primary,u.gc(n,2).info,u.gc(n,2).success,u.gc(n,2).warning,u.gc(n,2).danger,u.gc(n,2).rectangle,u.gc(n,2).round,u.gc(n,2).semiRound,u.gc(n,2).iconLeft,u.gc(n,2).iconRight,u.gc(n,2).transitions]),l(n,3,0,u.gc(n,4).html,u.gc(n,4).primary,u.gc(n,4).info,u.gc(n,4).success,u.gc(n,4).warning,u.gc(n,4).danger)}))}function D(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,16,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,a.O,a.v)),u.Qb(1,49152,null,0,i.nb,[],null,null),(l()(),u.Rb(2,0,null,0,10,"nb-card-header",[],null,null,null,a.Q,a.x)),u.Qb(3,49152,null,0,i.qb,[],null,null),(l()(),u.Rb(4,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Rb(5,0,null,null,1,"div",[["class","col-md-9 d-flex align-items-center"]],null,null,null,null,null)),(l()(),u.qc(6,null,[" "," "])),(l()(),u.Ab(16777216,null,null,1,null,L)),u.Qb(8,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,T)),u.Qb(10,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,U)),u.Qb(12,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Rb(13,0,null,1,3,"nb-card-body",[],null,null,null,a.N,a.u)),u.Qb(14,49152,null,0,i.mb,[],null,null),(l()(),u.Rb(15,0,null,0,1,"div",[],[[8,"innerHTML",1]],null,null,null,null)),u.kc(16,1)],(function(l,n){var e=n.component;l(n,8,0,e.authService.getUser()),l(n,10,0,e.authService.getUser()),l(n,12,0,e.authService.getUser())}),(function(l,n){var e=n.component;l(n,0,1,[u.gc(n,1).tiny,u.gc(n,1).small,u.gc(n,1).medium,u.gc(n,1).large,u.gc(n,1).giant,u.gc(n,1).primary,u.gc(n,1).info,u.gc(n,1).success,u.gc(n,1).warning,u.gc(n,1).danger,u.gc(n,1).hasAccent,u.gc(n,1).primaryAccent,u.gc(n,1).infoAccent,u.gc(n,1).successAccent,u.gc(n,1).warningAccent,u.gc(n,1).dangerAccent]),l(n,6,0,e.section.name);var t=u.rc(n,15,0,l(n,16,0,u.gc(n.parent.parent,0),e.section.description));l(n,15,0,t)}))}function B(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,34,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,a.O,a.v)),u.Qb(1,49152,null,0,i.nb,[],null,null),(l()(),u.Rb(2,0,null,0,2,"nb-card-header",[],null,null,null,a.Q,a.x)),u.Qb(3,49152,null,0,i.qb,[],null,null),(l()(),u.qc(4,0,["Upravit sekci ",""])),(l()(),u.Rb(5,0,null,1,16,"nb-card-body",[],null,null,null,a.N,a.u)),u.Qb(6,49152,null,0,i.mb,[],null,null),(l()(),u.Rb(7,0,null,0,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.gc(l,9).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.gc(l,9).onReset()&&t),t}),null,null)),u.Qb(8,16384,null,0,s.A,[],null,null),u.Qb(9,4210688,null,0,s.r,[[8,null],[8,null]],null,null),u.lc(2048,null,s.c,null,[s.r]),u.Qb(11,16384,null,0,s.q,[[4,s.c]],null,null),(l()(),u.Rb(12,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.Rb(13,0,null,null,1,"label",[["class","label"],["for","edit-description"]],null,null,null,null,null)),(l()(),u.qc(-1,null,["Popis sekce"])),(l()(),u.Rb(15,0,null,null,6,"tinymce",[["id","edit-description"],["name","edit-description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.section.description=e)&&u),u}),r.b,r.a)),u.Qb(16,4898816,null,0,g.b,[g.c,g.d,u.j],null,null),u.lc(1024,null,s.n,(function(l){return[l]}),[g.b]),u.Qb(18,671744,null,0,s.s,[[2,s.c],[8,null],[8,null],[6,s.n]],{name:[0,"name"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),u.jc(19,{standalone:0}),u.lc(2048,null,s.o,null,[s.s]),u.Qb(21,16384,null,0,s.p,[[4,s.o]],null,null),(l()(),u.Rb(22,0,null,3,12,"nb-card-footer",[],null,null,null,a.P,a.w)),u.Qb(23,49152,null,0,i.ob,[],null,null),(l()(),u.Rb(24,0,null,0,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Rb(25,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),u.Rb(26,0,null,null,4,"button",[["fullWidth",""],["nbButton",""],["status","warning"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0,c=l.component;return"click"===n&&(t=!1!==u.gc(l,27).onClick(e)&&t),"click"===n&&(t=!1!==c.updateSection()&&t),t}),a.M,a.t)),u.Qb(27,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),u.Rb(28,0,null,0,1,"nb-icon",[["icon","cloud-upload-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(29,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null),(l()(),u.qc(-1,0,["Upravit"])),(l()(),u.Rb(31,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),u.Rb(32,0,null,null,2,"button",[["fullWidth",""],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0,c=l.component;return"click"===n&&(t=!1!==u.gc(l,33).onClick(e)&&t),"click"===n&&(c.updateSectionState=!1,t=!1!==c.load()&&t),t}),a.M,a.t)),u.Qb(33,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),u.qc(-1,0,["Zru\u0161it"]))],(function(l,n){var e=n.component.section.description,u=l(n,19,0,!0);l(n,18,0,"edit-description",e,u),l(n,27,0,"warning",""),l(n,29,0,"cloud-upload-outline"),l(n,33,0,"danger","")}),(function(l,n){var e=n.component;l(n,0,1,[u.gc(n,1).tiny,u.gc(n,1).small,u.gc(n,1).medium,u.gc(n,1).large,u.gc(n,1).giant,u.gc(n,1).primary,u.gc(n,1).info,u.gc(n,1).success,u.gc(n,1).warning,u.gc(n,1).danger,u.gc(n,1).hasAccent,u.gc(n,1).primaryAccent,u.gc(n,1).infoAccent,u.gc(n,1).successAccent,u.gc(n,1).warningAccent,u.gc(n,1).dangerAccent]),l(n,4,0,e.section.name),l(n,7,0,u.gc(n,11).ngClassUntouched,u.gc(n,11).ngClassTouched,u.gc(n,11).ngClassPristine,u.gc(n,11).ngClassDirty,u.gc(n,11).ngClassValid,u.gc(n,11).ngClassInvalid,u.gc(n,11).ngClassPending),l(n,15,0,u.gc(n,21).ngClassUntouched,u.gc(n,21).ngClassTouched,u.gc(n,21).ngClassPristine,u.gc(n,21).ngClassDirty,u.gc(n,21).ngClassValid,u.gc(n,21).ngClassInvalid,u.gc(n,21).ngClassPending),l(n,26,1,[u.gc(n,27).filled,u.gc(n,27).outline,u.gc(n,27).ghost,u.gc(n,27).hero,u.gc(n,27).fullWidth,u.gc(n,27).disabled,u.gc(n,27).disabled,u.gc(n,27).tabbable,u.gc(n,27).tiny,u.gc(n,27).small,u.gc(n,27).medium,u.gc(n,27).large,u.gc(n,27).giant,u.gc(n,27).primary,u.gc(n,27).info,u.gc(n,27).success,u.gc(n,27).warning,u.gc(n,27).danger,u.gc(n,27).rectangle,u.gc(n,27).round,u.gc(n,27).semiRound,u.gc(n,27).iconLeft,u.gc(n,27).iconRight,u.gc(n,27).transitions]),l(n,28,0,u.gc(n,29).html,u.gc(n,29).primary,u.gc(n,29).info,u.gc(n,29).success,u.gc(n,29).warning,u.gc(n,29).danger),l(n,32,1,[u.gc(n,33).filled,u.gc(n,33).outline,u.gc(n,33).ghost,u.gc(n,33).hero,u.gc(n,33).fullWidth,u.gc(n,33).disabled,u.gc(n,33).disabled,u.gc(n,33).tabbable,u.gc(n,33).tiny,u.gc(n,33).small,u.gc(n,33).medium,u.gc(n,33).large,u.gc(n,33).giant,u.gc(n,33).primary,u.gc(n,33).info,u.gc(n,33).success,u.gc(n,33).warning,u.gc(n,33).danger,u.gc(n,33).rectangle,u.gc(n,33).round,u.gc(n,33).semiRound,u.gc(n,33).iconLeft,u.gc(n,33).iconRight,u.gc(n,33).transitions])}))}function V(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,1,"ngx-upload-images",[["dbCollection","gallery"]],null,[[null,"loadDocument"]],(function(l,n,e){var u=!0;return"loadDocument"===n&&(u=!1!==l.component.load()&&u),u}),O.b,O.a)),u.Qb(1,114688,null,0,W.a,[R.a,w.a,i.Od],{dbCollection:[0,"dbCollection"],documentID:[1,"documentID"]},{loadDocument:"loadDocument"})],(function(l,n){l(n,1,0,"gallery",n.component.section.id)}),null)}function H(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),u.Rb(2,0,null,null,2,"nb-alert",[["status","warning"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null]],null,null,a.L,a.s)),u.Qb(3,49152,null,0,i.H,[],{status:[0,"status"]},null),(l()(),u.qc(-1,0,["V t\xe9to sekci nejsou nahran\xe9 \u017e\xe1dn\xe9 obr\xe1zky."]))],(function(l,n){l(n,3,0,"warning")}),(function(l,n){l(n,2,1,[u.gc(n,3).closable,u.gc(n,3).tiny,u.gc(n,3).small,u.gc(n,3).medium,u.gc(n,3).large,u.gc(n,3).giant,u.gc(n,3).primary,u.gc(n,3).success,u.gc(n,3).info,u.gc(n,3).warning,u.gc(n,3).danger,u.gc(n,3).primaryAccent,u.gc(n,3).successAccent,u.gc(n,3).infoAccent,u.gc(n,3).warningAccent,u.gc(n,3).dangerAccent,u.gc(n,3).primaryOutline,u.gc(n,3).successOutline,u.gc(n,3).infoOutline,u.gc(n,3).warningOutline,u.gc(n,3).dangerOutline])}))}function K(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,5,"nb-card-footer",[],null,null,null,a.P,a.w)),u.Qb(1,49152,null,0,i.ob,[],null,null),(l()(),u.Rb(2,0,null,0,3,"button",[["class","w-100"],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var t=!0,c=l.component;return"click"===n&&(t=!1!==u.gc(l,3).onClick(e)&&t),"click"===n&&(t=!1!==c.deleteImage(l.parent.context.$implicit.name)&&t),t}),a.M,a.t)),u.Qb(3,4243456,null,0,i.P,[u.R,u.r,u.j],{status:[0,"status"]},null),(l()(),u.Rb(4,0,null,0,1,"nb-icon",[["icon","trash-2-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,a.S,a.z)),u.Qb(5,638976,null,0,i.ec,[o.b,i.fc,u.r,u.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,3,0,"danger"),l(n,5,0,"trash-2-outline")}),(function(l,n){l(n,2,1,[u.gc(n,3).filled,u.gc(n,3).outline,u.gc(n,3).ghost,u.gc(n,3).hero,u.gc(n,3).fullWidth,u.gc(n,3).disabled,u.gc(n,3).disabled,u.gc(n,3).tabbable,u.gc(n,3).tiny,u.gc(n,3).small,u.gc(n,3).medium,u.gc(n,3).large,u.gc(n,3).giant,u.gc(n,3).primary,u.gc(n,3).info,u.gc(n,3).success,u.gc(n,3).warning,u.gc(n,3).danger,u.gc(n,3).rectangle,u.gc(n,3).round,u.gc(n,3).semiRound,u.gc(n,3).iconLeft,u.gc(n,3).iconRight,u.gc(n,3).transitions]),l(n,4,0,u.gc(n,5).html,u.gc(n,5).primary,u.gc(n,5).info,u.gc(n,5).success,u.gc(n,5).warning,u.gc(n,5).danger)}))}function J(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,6,"div",[["class","col-md-6 col-lg-4 col-xl-3"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,5,"nb-card",[["class","gallery-item"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,a.O,a.v)),u.Qb(2,49152,null,0,i.nb,[],null,null),(l()(),u.Rb(3,0,null,2,1,"div",[["class","thumbnail"],["defaultImage","assets/images/placeholder.png"],["style","width: 100%; height: 40vh; background-position: center; background-repeat: no-repeat; background-size: cover"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.openImage(t.section.images,l.context.index)&&u),u}),null,null)),u.Qb(4,1720320,null,0,q.a,[u.r,u.L,u.O,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null),(l()(),u.Ab(16777216,null,3,1,null,K)),u.Qb(6,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,n.context.$implicit.url,"assets/images/placeholder.png"),l(n,6,0,e.authService.getUser())}),(function(l,n){l(n,1,1,[u.gc(n,2).tiny,u.gc(n,2).small,u.gc(n,2).medium,u.gc(n,2).large,u.gc(n,2).giant,u.gc(n,2).primary,u.gc(n,2).info,u.gc(n,2).success,u.gc(n,2).warning,u.gc(n,2).danger,u.gc(n,2).hasAccent,u.gc(n,2).primaryAccent,u.gc(n,2).infoAccent,u.gc(n,2).successAccent,u.gc(n,2).warningAccent,u.gc(n,2).dangerAccent])}))}function E(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),u.Ab(16777216,null,null,1,null,J)),u.Qb(2,278528,null,0,d.m,[u.hb,u.ab,u.D],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.section.images)}),null)}function _(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,17,"div",[["class","wrapper"]],null,null,null,null,null)),(l()(),u.Rb(1,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),u.Rb(2,0,null,null,2,"a",[["routerLink","/pages/gallery/"],["style","color: inherit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.gc(l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&t),t}),null,null)),u.Qb(3,671744,null,0,S.o,[S.l,S.a,d.k],{routerLink:[0,"routerLink"]},null),(l()(),u.qc(-1,null,["P\u0159ehled sekc\xed"])),(l()(),u.qc(-1,null,[" / "])),(l()(),u.Rb(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.qc(7,null,["",""])),(l()(),u.Ab(16777216,null,null,1,null,D)),u.Qb(9,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,B)),u.Qb(11,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,V)),u.Qb(13,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,H)),u.Qb(15,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null),(l()(),u.Ab(16777216,null,null,1,null,E)),u.Qb(17,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"/pages/gallery/"),l(n,9,0,!e.updateSectionState),l(n,11,0,e.updateSectionState),l(n,13,0,e.uploadNewImage&&e.authService.getUser()),l(n,15,0,!e.section.images||0===e.section.images.length),l(n,17,0,e.section.images.length>0)}),(function(l,n){var e=n.component;l(n,2,0,u.gc(n,3).target,u.gc(n,3).href),l(n,7,0,e.section.name)}))}function G(l){return u.tc(0,[u.ic(0,M.a,[o.b]),(l()(),u.Ab(16777216,null,null,1,null,_)),u.Qb(2,16384,null,0,d.n,[u.hb,u.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.section)}),null)}function X(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,1,"ngx-detail",[],null,null,null,G,N)),u.Qb(1,114688,null,0,j,[v,w.a,S.a,h.a,S.l,i.Ub,i.Od],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=u.Nb("ngx-detail",j,X,{},{},[]),$=e("EqZT"),Y=e("xPyt"),ll=e("Evfr"),nl=e("wVhC");class el{constructor(){}ngOnInit(){}}var ul=u.Pb({encapsulation:0,styles:[[""]],data:{}});function tl(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.qc(-1,null,[" update-section-card works!\n"]))],null,null)}function cl(l){return u.tc(0,[(l()(),u.Rb(0,0,null,null,1,"ngx-update-section-card",[],null,null,null,tl,ul)),u.Qb(1,114688,null,0,el,[],null,null)],(function(l,n){l(n,1,0)}),null)}var al=u.Nb("ngx-update-section-card",el,cl,{section:"section"},{},[]),il=e("QQfA"),sl=e("IP0z"),rl=e("IheW"),gl=e("POq0"),ol=e("Wc6z"),dl=e("PZgd");class bl{}var ml=e("xavc"),hl=e("zMNK"),pl=e("/HVE"),fl=e("hOhj"),yl=e("5GAg"),vl=e("5+jk"),wl=u.Ob(t,[],(function(l){return u.dc([u.ec(512,u.m,u.sb,[[8,[c.a,x,Z,a.l,$.a,Y.a,ll.a,nl.a,al]],[3,u.m],u.J]),u.ec(4608,d.p,d.o,[u.F]),u.ec(4608,s.y,s.y,[]),u.ec(4608,s.e,s.e,[]),u.ec(4608,il.d,il.d,[il.i,il.e,u.m,il.h,il.f,u.B,u.L,d.d,sl.b,[2,d.j]]),u.ec(5120,il.j,il.k,[il.d]),u.ec(4608,rl.k,rl.q,[d.d,u.O,rl.o]),u.ec(4608,rl.r,rl.r,[rl.k,rl.p]),u.ec(5120,rl.a,(function(l){return[l]}),[rl.r]),u.ec(4608,rl.n,rl.n,[]),u.ec(6144,rl.l,null,[rl.n]),u.ec(4608,rl.j,rl.j,[rl.l]),u.ec(6144,rl.b,null,[rl.j]),u.ec(4608,rl.g,rl.m,[rl.b,u.B]),u.ec(4608,rl.c,rl.c,[rl.g]),u.ec(4608,gl.a,gl.a,[]),u.ec(4608,ol.b,ol.b,[[2,ol.a],dl.a,il.d]),u.ec(1073742336,d.c,d.c,[]),u.ec(1073742336,S.p,S.p,[[2,S.u],[2,S.l]]),u.ec(1073742336,bl,bl,[]),u.ec(1073742336,s.x,s.x,[]),u.ec(1073742336,s.j,s.j,[]),u.ec(1073742336,i.se,i.se,[]),u.ec(1073742336,i.gc,i.gc,[i.fc]),u.ec(1073742336,i.rb,i.rb,[]),u.ec(1073742336,i.xd,i.xd,[]),u.ec(1073742336,s.u,s.u,[]),u.ec(1073742336,i.ic,i.ic,[]),u.ec(1073742336,i.Q,i.Q,[]),u.ec(1073742336,i.K,i.K,[]),u.ec(1073742336,i.he,i.he,[]),u.ec(1073742336,ml.b,ml.b,[]),u.ec(1073742336,q.b,q.b,[]),u.ec(1073742336,i.I,i.I,[]),u.ec(1073742336,sl.a,sl.a,[]),u.ec(1073742336,hl.f,hl.f,[]),u.ec(1073742336,pl.b,pl.b,[]),u.ec(1073742336,fl.b,fl.b,[]),u.ec(1073742336,il.g,il.g,[]),u.ec(1073742336,rl.e,rl.e,[]),u.ec(1073742336,rl.d,rl.d,[]),u.ec(1073742336,dl.e,dl.e,[]),u.ec(1073742336,gl.b,gl.b,[]),u.ec(1073742336,yl.a,yl.a,[]),u.ec(1073742336,ol.d,ol.d,[]),u.ec(1073742336,g.a,g.a,[]),u.ec(1073742336,vl.a,vl.a,[]),u.ec(1073742336,t,t,[]),u.ec(1024,S.j,(function(){return[[{path:"",component:z},{path:"detail/:id",component:j},{path:"**",redirectTo:"/pages/gallery"}]]}),[]),u.ec(256,rl.o,"XSRF-TOKEN",[]),u.ec(256,rl.p,"X-XSRF-TOKEN",[])])}))}}]);