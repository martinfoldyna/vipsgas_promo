function _createForOfIteratorHelper(l){if("undefined"==typeof Symbol||null==l[Symbol.iterator]){if(Array.isArray(l)||(l=_unsupportedIterableToArray(l))){var n=0,e=function(){};return{s:e,n:function(){return n>=l.length?{done:!0}:{done:!1,value:l[n++]}},e:function(l){throw l},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,t,c=!0,a=!1;return{s:function(){u=l[Symbol.iterator]()},n:function(){var l=u.next();return c=l.done,l},e:function(l){a=!0,t=l},f:function(){try{c||null==u.return||u.return()}finally{if(a)throw t}}}}function _unsupportedIterableToArray(l,n){if(l){if("string"==typeof l)return _arrayLikeToArray(l,n);var e=Object.prototype.toString.call(l).slice(8,-1);return"Object"===e&&l.constructor&&(e=l.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(l,n):void 0}}function _arrayLikeToArray(l,n){(null==n||n>l.length)&&(n=l.length);for(var e=0,u=new Array(n);e<n;e++)u[e]=l[e];return u}function _defineProperties(l,n){for(var e=0;e<n.length;e++){var u=n[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Hm8K:function(l,n,e){"use strict";e.r(n),e.d(n,"GalleryModuleNgFactory",(function(){return pl}));var u,t=e("8Y7J"),c=function l(){_classCallCheck(this,l)},a=e("pMnS"),i=e("jXVt"),s=e("tKwJ"),r=e("s7LF"),o=e("QKcJ"),g=e("kzz5"),d=e("cUpR"),b=e("SVse"),m=e("GKMp"),f=e("cH9j"),h=e("zbnG"),p=e("Wcq6"),y=e("Xr7G"),v=e("gJ2e"),w=((u=function(){function l(n,e){_classCallCheck(this,l),this.firestore=n,this.fireStorage=e,this.selectedSection={name:""}}return _createClass(l,[{key:"addSection",value:function(l){var n=this;return new Promise((function(e,u){n.loadSectionById(l.sectionId).then((function(t){console.log("uploading"),t&&t.length>0?u("Tato sekce u\u017e existuje"):n.fireStorage.upload("gallery/"+l.thumbnail.name,l.thumbnail.blob).then((function(t){"success"===t.state?n.firestore.collection("gallery").add({name:l.name,thumbnail:{name:l.thumbnail.name},sectionId:l.sectionId,section:!0,description:l.description,createdAt:l.createdAt,createdBy:l.createdBy}).then((function(l){e(l)})).catch((function(l){u(l)})):u("Nastala chyba b\u011bhem nahr\xe1v\xe1n\xed obr\xe1zku")})).catch((function(l){u(l)}))}))}))}},{key:"loadSections",value:function(){var l=this;return new Promise((function(n,e){l.firestore.collection("gallery").snapshotChanges().subscribe((function(l){l||e("Nastala chyba b\u011bhem na\u010d\xedt\xe1n\xed sekc\xed obr\xe1zk\u016f.");var u=l.filter((function(l){return l.payload.doc.data().section})).map((function(l){var n=l.payload.doc.data();return Object.assign({id:l.payload.doc.id},n)}));n(u)}),(function(l){e(l)}))}))}},{key:"uploadImagesToSection",value:function(l,n){var e=this;return new Promise((function(u,t){e.fireStorage.upload("gallery/"+n.name,n.blob).then((function(t){console.log(t),t&&t.ref.getDownloadURL().then((function(t){e.firestore.collection("gallery").doc(l.id).update({images:p.firestore.FieldValue.arrayUnion({name:n.name,url:t})}).then((function(l){u(l)}))}))})).catch((function(l){t(l)}))}))}},{key:"loadSectionById",value:function(l){var n=this;return new Promise((function(e,u){n.loadSections().then((function(u){n.selectedSection=u.filter((function(n){return n.sectionId===l}))[0],e(n.selectedSection)})).catch((function(l){u(l)}))}))}},{key:"deleteImageNameFromCollection",value:function(l,n,e,u){return this.firestore.collection(l).doc(n).update({images:u.filter((function(l){return l.name!==e}))})}},{key:"updateSection",value:function(l,n){return this.firestore.collection(l).doc(n.id).set(n)}}]),l}()).\u0275prov=t.uc({factory:function(){return new u(t.vc(y.a),t.vc(v.a))},token:u,providedIn:"root"}),u),R=e("q3Uq"),k=e("/aY3"),z=function(){function l(n,e,u,t,c,a){_classCallCheck(this,l),this.authService=n,this.galleryService=e,this.imagesService=u,this.generalService=t,this.router=c,this.toastr=a,this.uploadingSection=!1,this.galleryForm=new r.h({name:new r.f("",r.w.required),description:new r.f("",r.w.required),thumbnail:new r.f("",r.w.required)}),this.allSections=new Array,this.section={name:""}}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadSections()}},{key:"onFileChange",value:function(l){var n=this;this.setupFileReader(l.target.files[0]).then((function(l){n.section.thumbnail=l})).catch((function(l){console.log(l)}))}},{key:"setupFileReader",value:function(l){var n=this;return new Promise((function(e,u){var t=new FileReader;t.onload=function(l){var t=n.generalService.generateRandomString();n.imagesService.compressFile(l.target.result,t,50).then((function(l){l&&e({name:"thumb_"+t,blob:l.blob})})).catch((function(l){u(l)}))},t.readAsDataURL(l)}))}},{key:"addSection",value:function(){var l=this;this.section?(this.section.createdAt=Date.now(),this.section.createdBy=this.authService.getUser(),console.log(this.section),this.galleryService.addSection(this.section).then((function(n){l.toastr.success("","Nov\xe1 sekce byla \xfasp\u011b\u0161n\u011b vytvo\u0159ena."),l.loadSections(),l.galleryForm.reset()})).catch((function(n){l.toastr.danger(n?JSON.stringify(n):"B\u011bhem nahr\xe1v\xe1n\xed sekce do\u0161lo k chyb\u011b.","Chyba")}))):console.log("section is not defined")}},{key:"generateSectionId",value:function(){var l=this.section.name.replace(/\s+/g,"-").toLowerCase();return l=l.normalize("NFD").replace(/[\u0300-\u036f]/g,""),this.section.sectionId=l,this.section.sectionId}},{key:"loadSections",value:function(){var l=this;this.galleryService.loadSections().then((function(n){console.log(n),l.allSections=n;var e,u=_createForOfIteratorHelper(l.allSections);try{var t=function(){var n=e.value;console.log(n),l.imagesService.getImage("gallery",n.thumbnail.name).then((function(l){n.thumbnail.image=l}))};for(u.s();!(e=u.n()).done;)t()}catch(c){u.e(c)}finally{u.f()}})).catch((function(l){console.log(l)}))}},{key:"openDetail",value:function(l){this.router.navigateByUrl("/pages/gallery/detail/"+l.sectionId)}}]),l}(),I=e("iInd"),S=t.Pb({encapsulation:0,styles:[["nb-card-body.section-image{padding:0!important}"]],data:{}});function C(l){return t.tc(0,[(l()(),t.Rb(0,16777216,null,null,52,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"nb-spinner-container",null]],null,null,i.O,i.v)),t.Qb(1,49152,null,0,s.nb,[],null,null),t.Qb(2,81920,null,0,s.wd,[t.hb,t.m,t.R,t.r],{nbSpinner:[0,"nbSpinner"]},null),(l()(),t.Rb(3,0,null,0,2,"nb-card-header",[],null,null,null,i.Q,i.x)),t.Qb(4,49152,null,0,s.qb,[],null,null),(l()(),t.qc(-1,0,["P\u0159id\xe1n\xed nov\xe9 sekce"])),(l()(),t.Rb(6,0,null,1,46,"nb-card-body",[],null,null,null,i.N,i.u)),t.Qb(7,49152,null,0,s.mb,[],null,null),(l()(),t.Rb(8,0,null,0,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.gc(l,10).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.gc(l,10).onReset()&&u),u}),null,null)),t.Qb(9,16384,null,0,r.A,[],null,null),t.Qb(10,540672,[["form",4]],0,r.i,[[8,null],[8,null]],{form:[0,"form"]},null),t.lc(2048,null,r.c,null,[r.i]),t.Qb(12,16384,null,0,r.q,[[4,r.c]],null,null),(l()(),t.Rb(13,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.Rb(14,0,null,null,1,"label",[["class","label"],["for","title"]],null,null,null,null,null)),(l()(),t.qc(-1,null,["N\xe1zev sekce"])),(l()(),t.Rb(16,0,null,null,6,"input",[["fullWidth",""],["id","title"],["name","title"],["nbInput",""],["placeholder","Zadejte n\xe1zev sekce"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,c=l.component;return"input"===n&&(u=!1!==t.gc(l,17)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.gc(l,17).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.gc(l,17)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.gc(l,17)._compositionEnd(e.target.value)&&u),"ngModelChange"===n&&(u=!1!==(c.section.name=e)&&u),u}),null,null)),t.Qb(17,16384,null,0,r.d,[t.R,t.r,[2,r.b]],null,null),t.lc(1024,null,r.n,(function(l){return[l]}),[r.d]),t.Qb(19,540672,null,0,r.g,[[8,null],[8,null],[6,r.n],[2,r.z]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),t.lc(2048,null,r.o,null,[r.g]),t.Qb(21,16384,null,0,r.p,[[4,r.o]],null,null),t.Qb(22,16384,null,0,s.hc,[],{fullWidth:[0,"fullWidth"]},null),(l()(),t.Rb(23,0,null,null,4,"div",[["class","form-group"],["hidden",""]],null,null,null,null,null)),(l()(),t.Rb(24,0,null,null,1,"label",[["class","label"],["for","secitonId"]],null,null,null,null,null)),(l()(),t.qc(-1,null,["Id sekce"])),(l()(),t.Rb(26,0,null,null,1,"input",[["disabled",""],["fullWidth",""],["id","secitonId"],["name","sectionId"],["nbInput",""],["placeholder","Zadejte nejd\u0159\xedve n\xe1zev sekce"],["type","text"]],[[8,"value",0],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],null,null,null,null)),t.Qb(27,16384,null,0,s.hc,[],{fullWidth:[0,"fullWidth"]},null),(l()(),t.Rb(28,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.Rb(29,0,null,null,1,"label",[["class","label"],["for","sectionDescription"]],null,null,null,null,null)),(l()(),t.qc(-1,null,["Popis"])),(l()(),t.Rb(31,0,null,null,5,"tinymce",[["id","sectionDescription"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.section.description=e)&&u),u}),o.b,o.a)),t.Qb(32,4898816,null,0,g.b,[g.c,g.d,t.j],null,null),t.lc(1024,null,r.n,(function(l){return[l]}),[g.b]),t.Qb(34,540672,null,0,r.g,[[8,null],[8,null],[6,r.n],[2,r.z]],{form:[0,"form"],model:[1,"model"]},{update:"ngModelChange"}),t.lc(2048,null,r.o,null,[r.g]),t.Qb(36,16384,null,0,r.p,[[4,r.o]],null,null),(l()(),t.Rb(37,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.Rb(38,0,null,null,1,"label",[["class","label"],["for","product-thumbnail"]],null,null,null,null,null)),(l()(),t.qc(-1,null,["Vyberte tituln\xed obr\xe1zek sekce"])),(l()(),t.Rb(40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Rb(41,0,null,null,6,"input",[["id","product-thumbnail"],["name","thumbnail"],["nbInput",""],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"input-full-width",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-semi-round",null],[2,"shape-round",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0,c=l.component;return"input"===n&&(u=!1!==t.gc(l,42)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.gc(l,42).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.gc(l,42)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.gc(l,42)._compositionEnd(e.target.value)&&u),"change"===n&&(u=!1!==c.onFileChange(e)&&u),u}),null,null)),t.Qb(42,16384,null,0,r.d,[t.R,t.r,[2,r.b]],null,null),t.lc(1024,null,r.n,(function(l){return[l]}),[r.d]),t.Qb(44,540672,null,0,r.g,[[8,null],[8,null],[6,r.n],[2,r.z]],{form:[0,"form"]},null),t.lc(2048,null,r.o,null,[r.g]),t.Qb(46,16384,null,0,r.p,[[4,r.o]],null,null),t.Qb(47,16384,null,0,s.hc,[],null,null),(l()(),t.Rb(48,0,null,null,4,"button",[["fullWidth",""],["nbButton",""]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0,c=l.component;return"click"===n&&(u=!1!==t.gc(l,49).onClick(e)&&u),"click"===n&&(u=!1!==c.addSection()&&u),u}),i.M,i.t)),t.Qb(49,4243456,null,0,s.P,[t.R,t.r,t.j],{fullWidth:[0,"fullWidth"],disabled:[1,"disabled"]},null),(l()(),t.Rb(50,0,null,0,1,"nb-icon",[["icon","cloud-upload-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(51,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null),(l()(),t.qc(-1,0,["Nahr\xe1t"])),(l()(),t.Ab(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.uploadingSection),l(n,10,0,e.galleryForm),l(n,19,0,e.galleryForm.controls.name,e.section.name),l(n,22,0,""),l(n,27,0,""),l(n,34,0,e.galleryForm.controls.description,e.section.description),l(n,44,0,e.galleryForm.controls.thumbnail),l(n,49,0,"",!t.gc(n,10).valid),l(n,51,0,"cloud-upload-outline")}),(function(l,n){var e=n.component;l(n,0,1,[t.gc(n,1).tiny,t.gc(n,1).small,t.gc(n,1).medium,t.gc(n,1).large,t.gc(n,1).giant,t.gc(n,1).primary,t.gc(n,1).info,t.gc(n,1).success,t.gc(n,1).warning,t.gc(n,1).danger,t.gc(n,1).hasAccent,t.gc(n,1).primaryAccent,t.gc(n,1).infoAccent,t.gc(n,1).successAccent,t.gc(n,1).warningAccent,t.gc(n,1).dangerAccent,t.gc(n,2).isSpinnerExist]),l(n,8,0,t.gc(n,12).ngClassUntouched,t.gc(n,12).ngClassTouched,t.gc(n,12).ngClassPristine,t.gc(n,12).ngClassDirty,t.gc(n,12).ngClassValid,t.gc(n,12).ngClassInvalid,t.gc(n,12).ngClassPending),l(n,16,1,[t.gc(n,21).ngClassUntouched,t.gc(n,21).ngClassTouched,t.gc(n,21).ngClassPristine,t.gc(n,21).ngClassDirty,t.gc(n,21).ngClassValid,t.gc(n,21).ngClassInvalid,t.gc(n,21).ngClassPending,t.gc(n,22).fullWidth,t.gc(n,22).tiny,t.gc(n,22).small,t.gc(n,22).medium,t.gc(n,22).large,t.gc(n,22).giant,t.gc(n,22).primary,t.gc(n,22).info,t.gc(n,22).success,t.gc(n,22).warning,t.gc(n,22).danger,t.gc(n,22).rectangle,t.gc(n,22).semiRound,t.gc(n,22).round]),l(n,26,1,[e.generateSectionId(),t.gc(n,27).fullWidth,t.gc(n,27).tiny,t.gc(n,27).small,t.gc(n,27).medium,t.gc(n,27).large,t.gc(n,27).giant,t.gc(n,27).primary,t.gc(n,27).info,t.gc(n,27).success,t.gc(n,27).warning,t.gc(n,27).danger,t.gc(n,27).rectangle,t.gc(n,27).semiRound,t.gc(n,27).round]),l(n,31,0,t.gc(n,36).ngClassUntouched,t.gc(n,36).ngClassTouched,t.gc(n,36).ngClassPristine,t.gc(n,36).ngClassDirty,t.gc(n,36).ngClassValid,t.gc(n,36).ngClassInvalid,t.gc(n,36).ngClassPending),l(n,41,1,[t.gc(n,46).ngClassUntouched,t.gc(n,46).ngClassTouched,t.gc(n,46).ngClassPristine,t.gc(n,46).ngClassDirty,t.gc(n,46).ngClassValid,t.gc(n,46).ngClassInvalid,t.gc(n,46).ngClassPending,t.gc(n,47).fullWidth,t.gc(n,47).tiny,t.gc(n,47).small,t.gc(n,47).medium,t.gc(n,47).large,t.gc(n,47).giant,t.gc(n,47).primary,t.gc(n,47).info,t.gc(n,47).success,t.gc(n,47).warning,t.gc(n,47).danger,t.gc(n,47).rectangle,t.gc(n,47).semiRound,t.gc(n,47).round]),l(n,48,1,[t.gc(n,49).filled,t.gc(n,49).outline,t.gc(n,49).ghost,t.gc(n,49).hero,t.gc(n,49).fullWidth,t.gc(n,49).disabled,t.gc(n,49).disabled,t.gc(n,49).tabbable,t.gc(n,49).tiny,t.gc(n,49).small,t.gc(n,49).medium,t.gc(n,49).large,t.gc(n,49).giant,t.gc(n,49).primary,t.gc(n,49).info,t.gc(n,49).success,t.gc(n,49).warning,t.gc(n,49).danger,t.gc(n,49).rectangle,t.gc(n,49).round,t.gc(n,49).semiRound,t.gc(n,49).iconLeft,t.gc(n,49).iconRight,t.gc(n,49).transitions]),l(n,50,0,t.gc(n,51).html,t.gc(n,51).primary,t.gc(n,51).info,t.gc(n,51).success,t.gc(n,51).warning,t.gc(n,51).danger)}))}function Q(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,10,"div",[["class","col-md-6 col-lg-4 col-xl-3"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,9,"nb-card",[["class","scale"],["style","cursor: pointer; overflow: hidden !important;"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openDetail(l.context.$implicit)&&u),u}),i.O,i.v)),t.Qb(2,49152,null,0,s.nb,[],null,null),(l()(),t.Rb(3,0,null,0,2,"nb-card-header",[["class","d-flex justify-content-between"]],null,null,null,i.Q,i.x)),t.Qb(4,49152,null,0,s.qb,[],null,null),(l()(),t.qc(5,0,[" "," "])),(l()(),t.Rb(6,0,null,1,4,"nb-card-body",[["class","section-image"]],null,null,null,i.N,i.u)),t.Qb(7,49152,null,0,s.mb,[],null,null),(l()(),t.Rb(8,0,null,0,2,"div",[["class","thumbnail"],["style","width: 100%; height: 40vh; background-position: center; background-repeat: no-repeat; background-size: cover"]],null,null,null,null,null)),t.Qb(9,278528,null,0,b.q,[t.r,t.E,t.R],{ngStyle:[0,"ngStyle"]},null),t.jc(10,{"background-image":0})],(function(l,n){var e=l(n,10,0,"url("+n.context.$implicit.thumbnail.image+")");l(n,9,0,e)}),(function(l,n){l(n,1,1,[t.gc(n,2).tiny,t.gc(n,2).small,t.gc(n,2).medium,t.gc(n,2).large,t.gc(n,2).giant,t.gc(n,2).primary,t.gc(n,2).info,t.gc(n,2).success,t.gc(n,2).warning,t.gc(n,2).danger,t.gc(n,2).hasAccent,t.gc(n,2).primaryAccent,t.gc(n,2).infoAccent,t.gc(n,2).successAccent,t.gc(n,2).warningAccent,t.gc(n,2).dangerAccent]),l(n,5,0,n.context.$implicit.name)}))}function A(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Ab(16777216,null,null,1,null,Q)),t.Qb(2,278528,null,0,b.m,[t.hb,t.ab,t.D],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.allSections)}),null)}function P(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,2,"div",[["class","col-12 col-lg-8 m-auto"]],null,null,null,null,null)),(l()(),t.Ab(16777216,null,null,1,null,C)),t.Qb(3,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Rb(4,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.qc(-1,null,["Fotografie z akc\xed"])),(l()(),t.Ab(16777216,null,null,1,null,A)),t.Qb(7,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Rb(8,0,null,null,1,"ngx-loading-data-warning",[],null,null,null,m.b,m.a)),t.Qb(9,114688,null,0,f.a,[],{data:[0,"data"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.authService.getUser()),l(n,7,0,e.allSections),l(n,9,0,e.allSections)}),null)}var x=t.Nb("ngx-gallery",z,(function(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,1,"ngx-gallery",[],null,null,null,P,S)),t.Qb(1,114688,null,0,z,[h.a,w,R.a,k.a,I.l,s.Od],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),O=e("0VvH"),W=e("zpnr"),j=e("VLCt"),M=e("IQMd"),q=function(){function l(n,e,u,t,c,a,i){_classCallCheck(this,l),this.galleryService=n,this.imagesService=e,this.route=u,this.authService=t,this.router=c,this.dialogService=a,this.toastr=i,this.uploadNewImage=!0,this.uploadingImage=!1,this.preloadingImages=!0,this.showOverlay=!1,this.editSection=!0,this.updateSectionState=!1,this.descriptionChanged=!1,this.newImages=new Array,this.selectedImagesPreview=new Array}return _createClass(l,[{key:"ngOnInit",value:function(){this.load(),this.preloadTimeout(),this.editSection&&(this.uploadNewImage=!1),this.editSection&&!this.authService.getUser()&&(this.editSection=!1)}},{key:"load",value:function(){var l=this;this.selectedImagesPreview=new Array,this.uploadingImage&&(this.uploadingImage=!1),this.id=this.route.snapshot.paramMap.get("id"),this.galleryService.loadSectionById(this.id).then((function(n){l.section=n,console.log(l.section),l.imagesService.getImage("gallery",l.section.thumbnail.name).then((function(n){l.section.thumbnail.image=n}))})).catch((function(n){n&&l.router.navigateByUrl("/pages/gallery")}))}},{key:"removeImageFromSelection",value:function(l){console.log(l),this.selectedImagesPreview.map((function(n){return n.index!==l})),console.log(this.selectedImagesPreview)}},{key:"preloadTimeout",value:function(){var l=this;setTimeout((function(){l.preloadingImages=!1}),2e3)}},{key:"onFileChange",value:function(l){var n=l.target.files;console.log(n);for(var e=0;e<n.length;e++)this.setupFileReader(e,n[e])}},{key:"setupFileReader",value:function(l,n){var e=this,u=new FileReader;u.onload=function(u){e.imagesService.compressFile(u.target.result,n.name,68).then((function(n){e.selectedImagesPreview.push({url:n.src,index:l}),n&&e.newImages.push({name:e.generateRandomString(),blob:n.blob})})).catch((function(l){console.log(l)}))},u.readAsDataURL(n)}},{key:"upload",value:function(l){var n=this;this.uploadingImage=!0,this.uploadImages().then((function(e){n.toastr.success("","Obr\xe1zky byly \xfasp\u011b\u0161n\u011b p\u0159id\xe1ny."),n.selectedImagesPreview=new Array,n.uploadingImage=!1,l.reset(),n.load()})).catch((function(l){n.toastr.danger(l?JSON.stringify(l):"B\u011bhem nahr\xe1v\xe1n\xed obr\xe1zk\u016f do\u0161lo k chyb\u011b.","Chyba")}))}},{key:"generateRandomString",value:function(){for(var l=["A","a","B","b","C","c","D","d","E","e","F","f","G","g","H","h","I","i","J","j","K","k","L","l","M","m","N","n","O","o","P","p","Q","q","R","r","S","s","T","t","U","u","V","v","W","w","X","x","Y","y","Z","z"],n="",e=0;e<=10;e++){var u=Math.round(10*Math.random()+1);n+=l[u],n+=u}return n+Date.now()+".jpg"}},{key:"uploadImages",value:function(){var l=this;return new Promise((function(n,e){var u=0;if(l.newImages.length>0)for(var t=0;t<l.newImages.length;t++)l.galleryService.uploadImagesToSection(l.section,l.newImages[t]).then((function(e){console.log(e),u+=1,l.newImages.length-1===u&&n(!0)})).catch((function(l){e(l)}))}))}},{key:"deleteImage",value:function(l){var n=this;this.imagesService.deleteImage("gallery",l).then((function(e){n.galleryService.deleteImageNameFromCollection("gallery",n.section.id,l,n.section.images).then((function(l){n.toastr.success("","Obr\xe1zek byl \xfasp\u011b\u0161n\u011b smaz\xe1n."),n.load()}),(function(l){n.toastr.danger(l?JSON.stringify(l):"B\u011bhem odstra\u0148ov\xe1n\xed obr\xe1zku do\u0161lo k chyb\u011b.","Chyba")}))}))}},{key:"openImage",value:function(l,n){this.dialogService.open(M.a,{context:{allImages:l,index:n}})}},{key:"updateSection",value:function(){var l=this;this.galleryService.updateSection("gallery",this.section).then((function(n){l.toastr.success("","Sekce byla upravena."),l.updateSectionState=!1,l.load()})).catch((function(n){l.toastr.danger(n?JSON.stringify(n):"B\u011bhem upravov\xe1n\xed sekce do\u0161lo k chyb\u011b.","Chyba")}))}}]),l}(),F=t.Pb({encapsulation:0,styles:[[".overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.28)}  nb-card.gallery-item{transition:all .5s;overflow:hidden}  nb-card.gallery-item:hover{transform:scale(1.03)}.gallery-item[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function T(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=0!=(t.uploadNewImage=!t.uploadNewImage)&&u),u}),null,null)),(l()(),t.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","info"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.gc(l,2).onClick(e)&&u),u}),i.M,i.t)),t.Qb(2,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),t.Rb(3,0,null,0,1,"nb-icon",[["icon","plus-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(4,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"info",""),l(n,4,0,"plus-outline")}),(function(l,n){l(n,1,1,[t.gc(n,2).filled,t.gc(n,2).outline,t.gc(n,2).ghost,t.gc(n,2).hero,t.gc(n,2).fullWidth,t.gc(n,2).disabled,t.gc(n,2).disabled,t.gc(n,2).tabbable,t.gc(n,2).tiny,t.gc(n,2).small,t.gc(n,2).medium,t.gc(n,2).large,t.gc(n,2).giant,t.gc(n,2).primary,t.gc(n,2).info,t.gc(n,2).success,t.gc(n,2).warning,t.gc(n,2).danger,t.gc(n,2).rectangle,t.gc(n,2).round,t.gc(n,2).semiRound,t.gc(n,2).iconLeft,t.gc(n,2).iconRight,t.gc(n,2).transitions]),l(n,3,0,t.gc(n,4).html,t.gc(n,4).primary,t.gc(n,4).info,t.gc(n,4).success,t.gc(n,4).warning,t.gc(n,4).danger)}))}function _(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","warning"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0,c=l.component;return"click"===n&&(u=!1!==t.gc(l,2).onClick(e)&&u),"click"===n&&(u=0!=(c.updateSectionState=!0)&&u),u}),i.M,i.t)),t.Qb(2,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),t.Rb(3,0,null,0,1,"nb-icon",[["icon","edit-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(4,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"warning",""),l(n,4,0,"edit-outline")}),(function(l,n){l(n,1,1,[t.gc(n,2).filled,t.gc(n,2).outline,t.gc(n,2).ghost,t.gc(n,2).hero,t.gc(n,2).fullWidth,t.gc(n,2).disabled,t.gc(n,2).disabled,t.gc(n,2).tabbable,t.gc(n,2).tiny,t.gc(n,2).small,t.gc(n,2).medium,t.gc(n,2).large,t.gc(n,2).giant,t.gc(n,2).primary,t.gc(n,2).info,t.gc(n,2).success,t.gc(n,2).warning,t.gc(n,2).danger,t.gc(n,2).rectangle,t.gc(n,2).round,t.gc(n,2).semiRound,t.gc(n,2).iconLeft,t.gc(n,2).iconRight,t.gc(n,2).transitions]),l(n,3,0,t.gc(n,4).html,t.gc(n,4).primary,t.gc(n,4).info,t.gc(n,4).success,t.gc(n,4).warning,t.gc(n,4).danger)}))}function L(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,4,"div",[["class","col-md-1 mt-1"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,3,"button",[["fullWidth",""],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.gc(l,2).onClick(e)&&u),u}),i.M,i.t)),t.Qb(2,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),t.Rb(3,0,null,0,1,"nb-icon",[["icon","trash-2-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(4,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,2,0,"danger",""),l(n,4,0,"trash-2-outline")}),(function(l,n){l(n,1,1,[t.gc(n,2).filled,t.gc(n,2).outline,t.gc(n,2).ghost,t.gc(n,2).hero,t.gc(n,2).fullWidth,t.gc(n,2).disabled,t.gc(n,2).disabled,t.gc(n,2).tabbable,t.gc(n,2).tiny,t.gc(n,2).small,t.gc(n,2).medium,t.gc(n,2).large,t.gc(n,2).giant,t.gc(n,2).primary,t.gc(n,2).info,t.gc(n,2).success,t.gc(n,2).warning,t.gc(n,2).danger,t.gc(n,2).rectangle,t.gc(n,2).round,t.gc(n,2).semiRound,t.gc(n,2).iconLeft,t.gc(n,2).iconRight,t.gc(n,2).transitions]),l(n,3,0,t.gc(n,4).html,t.gc(n,4).primary,t.gc(n,4).info,t.gc(n,4).success,t.gc(n,4).warning,t.gc(n,4).danger)}))}function N(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,15,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,i.O,i.v)),t.Qb(1,49152,null,0,s.nb,[],null,null),(l()(),t.Rb(2,0,null,0,10,"nb-card-header",[],null,null,null,i.Q,i.x)),t.Qb(3,49152,null,0,s.qb,[],null,null),(l()(),t.Rb(4,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Rb(5,0,null,null,1,"div",[["class","col-md-9 d-flex align-items-center"]],null,null,null,null,null)),(l()(),t.qc(6,null,[" "," "])),(l()(),t.Ab(16777216,null,null,1,null,T)),t.Qb(8,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,_)),t.Qb(10,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,L)),t.Qb(12,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Rb(13,0,null,1,2,"nb-card-body",[],null,null,null,i.N,i.u)),t.Qb(14,49152,null,0,s.mb,[],null,null),(l()(),t.Rb(15,0,null,0,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],(function(l,n){var e=n.component;l(n,8,0,e.authService.getUser()),l(n,10,0,e.authService.getUser()),l(n,12,0,e.authService.getUser())}),(function(l,n){var e=n.component;l(n,0,1,[t.gc(n,1).tiny,t.gc(n,1).small,t.gc(n,1).medium,t.gc(n,1).large,t.gc(n,1).giant,t.gc(n,1).primary,t.gc(n,1).info,t.gc(n,1).success,t.gc(n,1).warning,t.gc(n,1).danger,t.gc(n,1).hasAccent,t.gc(n,1).primaryAccent,t.gc(n,1).infoAccent,t.gc(n,1).successAccent,t.gc(n,1).warningAccent,t.gc(n,1).dangerAccent]),l(n,6,0,e.section.name),l(n,15,0,e.section.description)}))}function U(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,34,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,i.O,i.v)),t.Qb(1,49152,null,0,s.nb,[],null,null),(l()(),t.Rb(2,0,null,0,2,"nb-card-header",[],null,null,null,i.Q,i.x)),t.Qb(3,49152,null,0,s.qb,[],null,null),(l()(),t.qc(4,0,["Upravit sekci ",""])),(l()(),t.Rb(5,0,null,1,16,"nb-card-body",[],null,null,null,i.N,i.u)),t.Qb(6,49152,null,0,s.mb,[],null,null),(l()(),t.Rb(7,0,null,0,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.gc(l,9).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.gc(l,9).onReset()&&u),u}),null,null)),t.Qb(8,16384,null,0,r.A,[],null,null),t.Qb(9,4210688,null,0,r.r,[[8,null],[8,null]],null,null),t.lc(2048,null,r.c,null,[r.r]),t.Qb(11,16384,null,0,r.q,[[4,r.c]],null,null),(l()(),t.Rb(12,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.Rb(13,0,null,null,1,"label",[["class","label"],["for","edit-description"]],null,null,null,null,null)),(l()(),t.qc(-1,null,["Popis sekce"])),(l()(),t.Rb(15,0,null,null,6,"tinymce",[["id","edit-description"],["name","edit-description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var u=!0;return"ngModelChange"===n&&(u=!1!==(l.component.section.description=e)&&u),u}),o.b,o.a)),t.Qb(16,4898816,null,0,g.b,[g.c,g.d,t.j],null,null),t.lc(1024,null,r.n,(function(l){return[l]}),[g.b]),t.Qb(18,671744,null,0,r.s,[[2,r.c],[8,null],[8,null],[6,r.n]],{name:[0,"name"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t.jc(19,{standalone:0}),t.lc(2048,null,r.o,null,[r.s]),t.Qb(21,16384,null,0,r.p,[[4,r.o]],null,null),(l()(),t.Rb(22,0,null,3,12,"nb-card-footer",[],null,null,null,i.P,i.w)),t.Qb(23,49152,null,0,s.ob,[],null,null),(l()(),t.Rb(24,0,null,0,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Rb(25,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t.Rb(26,0,null,null,4,"button",[["fullWidth",""],["nbButton",""],["status","warning"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0,c=l.component;return"click"===n&&(u=!1!==t.gc(l,27).onClick(e)&&u),"click"===n&&(u=!1!==c.updateSection()&&u),u}),i.M,i.t)),t.Qb(27,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),t.Rb(28,0,null,0,1,"nb-icon",[["icon","cloud-upload-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(29,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null),(l()(),t.qc(-1,0,["Upravit"])),(l()(),t.Rb(31,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),t.Rb(32,0,null,null,2,"button",[["fullWidth",""],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0,c=l.component;return"click"===n&&(u=!1!==t.gc(l,33).onClick(e)&&u),"click"===n&&(c.updateSectionState=!1,u=!1!==c.load()&&u),u}),i.M,i.t)),t.Qb(33,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"],fullWidth:[1,"fullWidth"]},null),(l()(),t.qc(-1,0,["Zru\u0161it"]))],(function(l,n){var e=n.component.section.description,u=l(n,19,0,!0);l(n,18,0,"edit-description",e,u),l(n,27,0,"warning",""),l(n,29,0,"cloud-upload-outline"),l(n,33,0,"danger","")}),(function(l,n){var e=n.component;l(n,0,1,[t.gc(n,1).tiny,t.gc(n,1).small,t.gc(n,1).medium,t.gc(n,1).large,t.gc(n,1).giant,t.gc(n,1).primary,t.gc(n,1).info,t.gc(n,1).success,t.gc(n,1).warning,t.gc(n,1).danger,t.gc(n,1).hasAccent,t.gc(n,1).primaryAccent,t.gc(n,1).infoAccent,t.gc(n,1).successAccent,t.gc(n,1).warningAccent,t.gc(n,1).dangerAccent]),l(n,4,0,e.section.name),l(n,7,0,t.gc(n,11).ngClassUntouched,t.gc(n,11).ngClassTouched,t.gc(n,11).ngClassPristine,t.gc(n,11).ngClassDirty,t.gc(n,11).ngClassValid,t.gc(n,11).ngClassInvalid,t.gc(n,11).ngClassPending),l(n,15,0,t.gc(n,21).ngClassUntouched,t.gc(n,21).ngClassTouched,t.gc(n,21).ngClassPristine,t.gc(n,21).ngClassDirty,t.gc(n,21).ngClassValid,t.gc(n,21).ngClassInvalid,t.gc(n,21).ngClassPending),l(n,26,1,[t.gc(n,27).filled,t.gc(n,27).outline,t.gc(n,27).ghost,t.gc(n,27).hero,t.gc(n,27).fullWidth,t.gc(n,27).disabled,t.gc(n,27).disabled,t.gc(n,27).tabbable,t.gc(n,27).tiny,t.gc(n,27).small,t.gc(n,27).medium,t.gc(n,27).large,t.gc(n,27).giant,t.gc(n,27).primary,t.gc(n,27).info,t.gc(n,27).success,t.gc(n,27).warning,t.gc(n,27).danger,t.gc(n,27).rectangle,t.gc(n,27).round,t.gc(n,27).semiRound,t.gc(n,27).iconLeft,t.gc(n,27).iconRight,t.gc(n,27).transitions]),l(n,28,0,t.gc(n,29).html,t.gc(n,29).primary,t.gc(n,29).info,t.gc(n,29).success,t.gc(n,29).warning,t.gc(n,29).danger),l(n,32,1,[t.gc(n,33).filled,t.gc(n,33).outline,t.gc(n,33).ghost,t.gc(n,33).hero,t.gc(n,33).fullWidth,t.gc(n,33).disabled,t.gc(n,33).disabled,t.gc(n,33).tabbable,t.gc(n,33).tiny,t.gc(n,33).small,t.gc(n,33).medium,t.gc(n,33).large,t.gc(n,33).giant,t.gc(n,33).primary,t.gc(n,33).info,t.gc(n,33).success,t.gc(n,33).warning,t.gc(n,33).danger,t.gc(n,33).rectangle,t.gc(n,33).round,t.gc(n,33).semiRound,t.gc(n,33).iconLeft,t.gc(n,33).iconRight,t.gc(n,33).transitions])}))}function D(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,1,"ngx-upload-images",[["dbCollection","gallery"]],null,[[null,"loadDocument"]],(function(l,n,e){var u=!0;return"loadDocument"===n&&(u=!1!==l.component.load()&&u),u}),O.b,O.a)),t.Qb(1,114688,null,0,W.a,[k.a,R.a,s.Od],{dbCollection:[0,"dbCollection"],documentID:[1,"documentID"]},{loadDocument:"loadDocument"})],(function(l,n){l(n,1,0,"gallery",n.component.section.id)}),null)}function B(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,3,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.Rb(2,0,null,null,2,"nb-alert",[["status","warning"]],[[2,"closable",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-success",null],[2,"status-info",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent-primary",null],[2,"accent-success",null],[2,"accent-info",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"outline-primary",null],[2,"outline-success",null],[2,"outline-info",null],[2,"outline-warning",null],[2,"outline-danger",null]],null,null,i.L,i.s)),t.Qb(3,49152,null,0,s.H,[],{status:[0,"status"]},null),(l()(),t.qc(-1,0,["V t\xe9to sekci nejsou nahran\xe9 \u017e\xe1dn\xe9 obr\xe1zky."]))],(function(l,n){l(n,3,0,"warning")}),(function(l,n){l(n,2,1,[t.gc(n,3).closable,t.gc(n,3).tiny,t.gc(n,3).small,t.gc(n,3).medium,t.gc(n,3).large,t.gc(n,3).giant,t.gc(n,3).primary,t.gc(n,3).success,t.gc(n,3).info,t.gc(n,3).warning,t.gc(n,3).danger,t.gc(n,3).primaryAccent,t.gc(n,3).successAccent,t.gc(n,3).infoAccent,t.gc(n,3).warningAccent,t.gc(n,3).dangerAccent,t.gc(n,3).primaryOutline,t.gc(n,3).successOutline,t.gc(n,3).infoOutline,t.gc(n,3).warningOutline,t.gc(n,3).dangerOutline])}))}function V(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,5,"nb-card-footer",[],null,null,null,i.P,i.w)),t.Qb(1,49152,null,0,s.ob,[],null,null),(l()(),t.Rb(2,0,null,0,3,"button",[["class","w-100"],["nbButton",""],["status","danger"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],(function(l,n,e){var u=!0,c=l.component;return"click"===n&&(u=!1!==t.gc(l,3).onClick(e)&&u),"click"===n&&(u=!1!==c.deleteImage(l.parent.context.$implicit.name)&&u),u}),i.M,i.t)),t.Qb(3,4243456,null,0,s.P,[t.R,t.r,t.j],{status:[0,"status"]},null),(l()(),t.Rb(4,0,null,0,1,"nb-icon",[["icon","trash-2-outline"]],[[8,"innerHTML",1],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null]],null,null,i.S,i.z)),t.Qb(5,638976,null,0,s.ec,[d.b,s.fc,t.r,t.R],{icon:[0,"icon"]},null)],(function(l,n){l(n,3,0,"danger"),l(n,5,0,"trash-2-outline")}),(function(l,n){l(n,2,1,[t.gc(n,3).filled,t.gc(n,3).outline,t.gc(n,3).ghost,t.gc(n,3).hero,t.gc(n,3).fullWidth,t.gc(n,3).disabled,t.gc(n,3).disabled,t.gc(n,3).tabbable,t.gc(n,3).tiny,t.gc(n,3).small,t.gc(n,3).medium,t.gc(n,3).large,t.gc(n,3).giant,t.gc(n,3).primary,t.gc(n,3).info,t.gc(n,3).success,t.gc(n,3).warning,t.gc(n,3).danger,t.gc(n,3).rectangle,t.gc(n,3).round,t.gc(n,3).semiRound,t.gc(n,3).iconLeft,t.gc(n,3).iconRight,t.gc(n,3).transitions]),l(n,4,0,t.gc(n,5).html,t.gc(n,5).primary,t.gc(n,5).info,t.gc(n,5).success,t.gc(n,5).warning,t.gc(n,5).danger)}))}function H(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,6,"div",[["class","col-md-6 col-lg-4 col-xl-3"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,5,"nb-card",[["class","gallery-item"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,i.O,i.v)),t.Qb(2,49152,null,0,s.nb,[],null,null),(l()(),t.Rb(3,0,null,2,1,"div",[["class","thumbnail"],["defaultImage","assets/images/placeholder.png"],["style","width: 100%; height: 40vh; background-position: center; background-repeat: no-repeat; background-size: cover"]],null,[[null,"click"]],(function(l,n,e){var u=!0,t=l.component;return"click"===n&&(u=!1!==t.openImage(t.section.images,l.context.index)&&u),u}),null,null)),t.Qb(4,1720320,null,0,j.a,[t.r,t.L,t.O,[2,"options"]],{lazyImage:[0,"lazyImage"],defaultImage:[1,"defaultImage"]},null),(l()(),t.Ab(16777216,null,3,1,null,V)),t.Qb(6,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,n.context.$implicit.url,"assets/images/placeholder.png"),l(n,6,0,e.authService.getUser())}),(function(l,n){l(n,1,1,[t.gc(n,2).tiny,t.gc(n,2).small,t.gc(n,2).medium,t.gc(n,2).large,t.gc(n,2).giant,t.gc(n,2).primary,t.gc(n,2).info,t.gc(n,2).success,t.gc(n,2).warning,t.gc(n,2).danger,t.gc(n,2).hasAccent,t.gc(n,2).primaryAccent,t.gc(n,2).infoAccent,t.gc(n,2).successAccent,t.gc(n,2).warningAccent,t.gc(n,2).dangerAccent])}))}function K(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.Ab(16777216,null,null,1,null,H)),t.Qb(2,278528,null,0,b.m,[t.hb,t.ab,t.D],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.section.images)}),null)}function E(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,17,"div",[["class","wrapper"]],null,null,null,null,null)),(l()(),t.Rb(1,0,null,null,6,"p",[],null,null,null,null,null)),(l()(),t.Rb(2,0,null,null,2,"a",[["routerLink","/pages/gallery/"],["style","color: inherit"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.gc(l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.Qb(3,671744,null,0,I.o,[I.l,I.a,b.k],{routerLink:[0,"routerLink"]},null),(l()(),t.qc(-1,null,["P\u0159ehled sekc\xed"])),(l()(),t.qc(-1,null,[" / "])),(l()(),t.Rb(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.qc(7,null,["",""])),(l()(),t.Ab(16777216,null,null,1,null,N)),t.Qb(9,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,U)),t.Qb(11,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,D)),t.Qb(13,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,B)),t.Qb(15,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null),(l()(),t.Ab(16777216,null,null,1,null,K)),t.Qb(17,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"/pages/gallery/"),l(n,9,0,!e.updateSectionState),l(n,11,0,e.updateSectionState),l(n,13,0,e.uploadNewImage&&e.authService.getUser()),l(n,15,0,!e.section.images||0===e.section.images.length),l(n,17,0,e.section.images.length>0)}),(function(l,n){var e=n.component;l(n,2,0,t.gc(n,3).target,t.gc(n,3).href),l(n,7,0,e.section.name)}))}function J(l){return t.tc(0,[(l()(),t.Ab(16777216,null,null,1,null,E)),t.Qb(1,16384,null,0,b.n,[t.hb,t.ab],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.section)}),null)}var G=t.Nb("ngx-detail",q,(function(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,1,"ngx-detail",[],null,null,null,J,F)),t.Qb(1,114688,null,0,q,[w,R.a,I.a,h.a,I.l,s.Ub,s.Od],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),X=e("EqZT"),Z=e("xPyt"),$=e("Evfr"),Y=e("wVhC"),ll=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"ngOnInit",value:function(){}}]),l}(),nl=t.Pb({encapsulation:0,styles:[[""]],data:{}});function el(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.qc(-1,null,[" update-section-card works!\n"]))],null,null)}var ul=t.Nb("ngx-update-section-card",ll,(function(l){return t.tc(0,[(l()(),t.Rb(0,0,null,null,1,"ngx-update-section-card",[],null,null,null,el,nl)),t.Qb(1,114688,null,0,ll,[],null,null)],(function(l,n){l(n,1,0)}),null)}),{section:"section"},{},[]),tl=e("QQfA"),cl=e("IP0z"),al=e("IheW"),il=e("POq0"),sl=e("Wc6z"),rl=e("PZgd"),ol=function l(){_classCallCheck(this,l)},gl=e("xavc"),dl=e("zMNK"),bl=e("/HVE"),ml=e("hOhj"),fl=e("5GAg"),hl=e("5+jk"),pl=t.Ob(c,[],(function(l){return t.dc([t.ec(512,t.m,t.sb,[[8,[a.a,x,G,i.l,X.a,Z.a,$.a,Y.a,ul]],[3,t.m],t.J]),t.ec(4608,b.p,b.o,[t.F]),t.ec(4608,r.y,r.y,[]),t.ec(4608,r.e,r.e,[]),t.ec(4608,tl.d,tl.d,[tl.i,tl.e,t.m,tl.h,tl.f,t.B,t.L,b.d,cl.b,[2,b.j]]),t.ec(5120,tl.j,tl.k,[tl.d]),t.ec(4608,al.k,al.q,[b.d,t.O,al.o]),t.ec(4608,al.r,al.r,[al.k,al.p]),t.ec(5120,al.a,(function(l){return[l]}),[al.r]),t.ec(4608,al.n,al.n,[]),t.ec(6144,al.l,null,[al.n]),t.ec(4608,al.j,al.j,[al.l]),t.ec(6144,al.b,null,[al.j]),t.ec(4608,al.g,al.m,[al.b,t.B]),t.ec(4608,al.c,al.c,[al.g]),t.ec(4608,il.a,il.a,[]),t.ec(4608,sl.b,sl.b,[[2,sl.a],rl.a,tl.d]),t.ec(1073742336,b.c,b.c,[]),t.ec(1073742336,I.p,I.p,[[2,I.u],[2,I.l]]),t.ec(1073742336,ol,ol,[]),t.ec(1073742336,r.x,r.x,[]),t.ec(1073742336,r.j,r.j,[]),t.ec(1073742336,s.se,s.se,[]),t.ec(1073742336,s.gc,s.gc,[s.fc]),t.ec(1073742336,s.rb,s.rb,[]),t.ec(1073742336,s.xd,s.xd,[]),t.ec(1073742336,r.u,r.u,[]),t.ec(1073742336,s.ic,s.ic,[]),t.ec(1073742336,s.Q,s.Q,[]),t.ec(1073742336,s.K,s.K,[]),t.ec(1073742336,s.he,s.he,[]),t.ec(1073742336,gl.b,gl.b,[]),t.ec(1073742336,j.b,j.b,[]),t.ec(1073742336,s.I,s.I,[]),t.ec(1073742336,cl.a,cl.a,[]),t.ec(1073742336,dl.f,dl.f,[]),t.ec(1073742336,bl.b,bl.b,[]),t.ec(1073742336,ml.b,ml.b,[]),t.ec(1073742336,tl.g,tl.g,[]),t.ec(1073742336,al.e,al.e,[]),t.ec(1073742336,al.d,al.d,[]),t.ec(1073742336,rl.e,rl.e,[]),t.ec(1073742336,il.b,il.b,[]),t.ec(1073742336,fl.a,fl.a,[]),t.ec(1073742336,sl.d,sl.d,[]),t.ec(1073742336,g.a,g.a,[]),t.ec(1073742336,hl.a,hl.a,[]),t.ec(1073742336,c,c,[]),t.ec(1024,I.j,(function(){return[[{path:"",component:z},{path:"detail/:id",component:q},{path:"**",redirectTo:"/pages/gallery"}]]}),[]),t.ec(256,al.o,"XSRF-TOKEN",[]),t.ec(256,al.p,"X-XSRF-TOKEN",[])])}))}}]);